<div class="login-container">
  <h2>Login</h2>

  <form (ngSubmit)="onLogin()" #loginForm="ngForm" novalidate>
   
    <div class="form-group mb-3">
      <label for="email">Username</label>
      <input type="text" id="email" class="form-control" name="email" required minlength="3"
        [(ngModel)]="loginRequest.email" #nameField="ngModel"
        [class.is-invalid]="nameField.invalid && nameField.touched" />

      @if (nameField.errors?.['required'] && nameField.touched) {
      <small class="text-danger">Username is required</small>
      }
      @if (nameField.errors?.['minlength'] && nameField.touched) {
      <small class="text-danger">Username must be at least 3 characters</small>
      }
    </div>

    <div class="form-group mb-3">
      <label for="password">Password</label>
      <input type="password" id="password" class="form-control" name="password" required minlength="6"
        [(ngModel)]="loginRequest.password" #passwordField="ngModel"
        [class.is-invalid]="passwordField.invalid && passwordField.touched" />

      @if (passwordField.errors?.['required'] && passwordField.touched) {
      <small class="text-danger">Password is required</small>
      }
      @if (passwordField.errors?.['minlength'] && passwordField.touched) {
      <small class="text-danger">Password must be at least 6 characters</small>
      }
    </div>

    <button class="btn btn-primary w-100" type="submit" [disabled]="!loginForm.valid">
      Login
    </button>

    <div class="text-center mt-3 signup-btn">
      <span>Don't have an account? </span>
      <a routerLink="/signup" (click)="goToSignup()" class="signup-link">Sign Up</a>
    </div>
  </form>
</div>