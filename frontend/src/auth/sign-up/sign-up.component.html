<div class="signup-container">
  <h2>Sign Up</h2>

  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" novalidate>

    <div class="form-group mb-3">
      <label for="name">Full Name</label>
      <input type="text" id="name" class="form-control" formControlName="name"
        [class.is-invalid]="f['name'].invalid && f['name'].touched" />
      <small class="text-danger" *ngIf="f['name'].errors?.['required'] && f['name'].touched">Name is required</small>
      <small class="text-danger" *ngIf="f['name'].errors?.['minlength'] && f['name'].touched">Min 3 characters</small>
      <small class="text-danger" *ngIf="f['name'].errors?.['maxlength'] && f['name'].touched">Max 50 characters</small>
    </div>

    <div class="form-group mb-3">
      <label for="email">Email</label>
      <input type="email" id="email" class="form-control" formControlName="email"
        [class.is-invalid]="f['email'].invalid && f['email'].touched" />
      <small class="text-danger" *ngIf="f['email'].errors?.['required'] && f['email'].touched">Email is required</small>
      <small class="text-danger" *ngIf="f['email'].errors?.['email'] && f['email'].touched">Enter valid email</small>
    </div>

    <!-- <div class="form-group mb-3">
      <label for="department">Department</label>
      <input type="text" id="department" name="department" class="form-control" required pattern="[a-zA-Z ]*"
        [(ngModel)]="employee.department" #department="ngModel"
        [class.is-invalid]="department.invalid && department.touched" />
      @if (department.errors?.['required'] && department.touched) {
      <small class="text-danger">Department is required</small>
      }
      @if (department.errors?.['pattern'] && department.touched) {
      <small class="text-danger">Only letters and spaces allowed</small>
      }
    </div> -->

    <div class="form-group mb-3">
      <label for="password">Password</label>
      <input type="password" id="password" class="form-control" formControlName="password"
        [class.is-invalid]="f['password'].invalid && f['password'].touched" />
      <small class="text-danger" *ngIf="f['password'].errors?.['required'] && f['password'].touched">Password is
        required</small>
      <small class="text-danger" *ngIf="f['password'].errors?.['minlength'] && f['password'].touched">Min 6
        characters</small>
    </div>

    <div class="form-group mb-3">
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword"
        [class.is-invalid]="(f['confirmPassword'].touched && f['confirmPassword'].invalid) || (signupForm.errors?.['mismatch'] && f['confirmPassword'].touched)" />
      <small class="text-danger"
        *ngIf="f['confirmPassword'].errors?.['required'] && f['confirmPassword'].touched">Confirm password is required</small>
      <small class="text-danger"
        *ngIf="signupForm.errors?.['mismatch'] && f['confirmPassword'].touched && f['confirmPassword'].value">Passwords do not match</small>
    </div>

    <div class="form-group mb-3">
      <label for="phone">Phone Number</label>
      <input type="text" id="phone" class="form-control" formControlName="phone"
        [class.is-invalid]="f['phone'].invalid && f['phone'].touched" />
      <small class="text-danger" *ngIf="f['phone'].errors?.['required'] && f['phone'].touched">
        Phone number is required
      </small>
      <small class="text-danger" *ngIf="f['phone'].errors?.['pattern'] && f['phone'].touched">
        Enter a valid 10-digit phone number
      </small>
    </div>

    <div class="form-group mb-3">
      <label for="role">Role</label>
      <select id="role" class="form-control" formControlName="role"
        [class.is-invalid]="f['role'].invalid && f['role'].touched">
        <option value="" disabled>Select a role</option>
        <option value="ROLE_ADMIN">Admin</option>
        <option value="ROLE_CUSTOMER">Customer</option>
      </select>
      <small class="text-danger" *ngIf="f['role'].errors?.['required'] && f['role'].touched">
        Role is required
      </small>
    </div>

    <button class="btn btn-primary w-100" type="submit" [disabled]="signupForm.invalid">
      Sign Up
    </button>

    <div class="text-center mt-3">
      <span>Already have an account? </span>
      <a routerLink="/login" (click)="goToLogin()" class="login-link">Login</a>
    </div>
  </form>
</div>